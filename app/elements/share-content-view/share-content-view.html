<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">
<link rel="import" href="../../bower_components/paper-material/paper-material.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../../bower_components/i18n-behavior/i18n-behavior.html">

<link rel="import" href="../plutonium-witdget-behavior.html">

<dom-module id="share-content-view">
    <template>
        <style>
            :host {
                display: block;
                /*@apply(--layout-vertical);*/
                /*@apply(--layout-horizontal);*/
                /*@apply(--layout-center);*/
            }



            plutonium-cm-form {
                display: block;
                @apply(--layout-vertical);
            }
            /*            :host paper-material {
                            margin-left: 20px;
                            background-color: white;
                            @apply(--layout-vertical);
                            @apply(--layout-center);
                        }*/

            /*             {
                            @apply(--layout-horizontal);
                            @apply(--layout-flex);
                            @apply(--layout-center);
                        }
            /*            .card-content {
                            @apply(--layout-horizontal);
                            @apply(--layout-flex);
                            @apply(--layout-center);
                        }
                        .section-content {
                            display: inline-block;
                            @apply(--layout-horizontal);
                            @apply(--layout-flex);
                                            @apply(--layout-center);
                        }
                        .section-actions {
                            display: inline-block;
                            @apply(--layout-vertical);
                            @apply(--layout-center);
                        }*/
        </style>

        <iron-ajax 
            id="contactsAjax"
            url="{{apiUrl}}/addressbook/{{accountId}}/contacts" 
            last-response="{{contacts}}" 
            auto></iron-ajax>
        <iron-ajax 
            id="parentCandidatesAjax"
            url="{{apiUrl}}/content-management/candidates" 
            last-response="{{parentCandidates}}" 
            auto></iron-ajax>

        <plutonium-text-section
            id="mcIntire"
            model$="{{kacsa}}"
            ></plutonium-text-section>
        <plutonium-text-section
            id="mcIntire2"
            editable
            model$="{{kacsa}}"
            ></plutonium-text-section>
        <plutonium-video-section
            id="mcIntire3"
            model$="{{kacsa3}}"
            ></plutonium-video-section>
        <plutonium-video-section
            id="mcIntire4"
            editable
            model$="{{kacsa3}}"
            ></plutonium-video-section>

        <!--        <plutonium-section-editor 
                    id="sectionEditor2"
                    action-title="Edit section"
                    justification="start-justified"
                    font-size="13">
                    actasdasda
                </plutonium-section-editor>-->

        <plutonium-cm-form 
            id="pcf"
            contacts="{{contacts}}" 
            content-model="{{sections}}"
            parent-candidates="{{parentCandidates}}"
            file-upload-target="{{apiUrl}}/fs/upload"
            editors="[[editorMap]]">
            <paper-dialog id="textEditorDialog" modal class="editor">
                <h2 id="textEditorDialogTitle">Edit text properties</h2>
                <div class="content">
                    <paper-icon-button id="decreaseSizeButton" on-tap="onDecreaseFontSize" icon="unfold-less" raised></paper-icon-button>
                    <paper-icon-button id="increaseSizeButton" on-tap="onInreaseFontSize" icon="unfold-more" raised></paper-icon-button>
                    <paper-icon-button id="alignLeftButton" on-tap="onAlignLeft" icon="editor:format-align-left" raised></paper-icon-button>
                    <paper-icon-button id="alignCenterButton" on-tap="onAlignCenter" icon="editor:format-align-center" raised></paper-icon-button>
                    <paper-icon-button id="alignRightButton" on-tap="onAlignRight" icon="editor:format-align-right" raised></paper-icon-button>
                </div>
                <div class="content">
                    <input type="hidden" name="name">
                    <paper-input id="textContentTitleLabel" name="title" label="{{text.textEditorTitlePlaceholder}}">
                    </paper-input>
                    <paper-textarea  
                        id="textContentTextLabel" 
                        name="data" 
                        label="Text" 
                        rows="10" 
                        type="text"  
                        char-counter maxlength="10000">
                    </paper-textarea>

                </div>
                <div class="buttons">
                    <paper-button id="textEditorDialogCancelButton" dialog-dismiss>{{text.textEditorCancelLabel}}</paper-button>
                    <paper-button id="textEditorDialogAcceptButton" raised dialog-confirm>Accept</paper-button>
                </div>
            </paper-dialog>

            <paper-dialog id="imageEditorDialog" modal class="editor">
                <h2 id="imageEditorDialogTitle">Edit image properties</h2>
                <div class="content">
                    <input type="hidden" name="name">
                    <paper-input id="imageContentTitleLabel" name="title" label="Title"></paper-input>

                    <paper-input id="imageEditorUrlLabel" name="data" required auto-validate
                                 label="Image url">

                    </paper-input>
                </div>
                <div class="buttons">
                    <paper-button id="imageEditorDialogCancelButton" dialog-dismiss>Cancel</paper-button>
                    <paper-button id="imageEditorDialogAcceptButton" raised dialog-confirm>Accept</paper-button>
                </div>
            </paper-dialog>

            <paper-dialog id="linkEditorDialog" modal class="editor">
                <h2 id="linkEditorDialogTitle">Edit link properties</h2>
                <div class="content">
                    <input type="hidden" name="name">
                    <paper-input id="linkEditorDialogTitleLabel" name="title" label="Title" ></paper-input>

                    <input name="data" type="hidden" />
                    <paper-dropdown-menu id="linkEditorReferenceLabel" label="Reference">
                        <paper-menu
                            class="dropdown-content" selected="{{data}}" attr-for-selected="value"
                            attr-for-selected="id">
                            <template is="dom-repeat" items="{{shareableContents}}">
                                <paper-item value="{{item.id}}">{{item.name}}</paper-item>
                            </template>
                        </paper-menu>
                    </paper-dropdown-menu>
                </div>
                <div class="buttons">
                    <paper-button id="linkEditorDialogCancelButton" dialog-dismiss>Cancel</paper-button>
                    <paper-button id="linkEditorDialogAcceptButton" raised dialog-confirm>Accept</paper-button>
                </div>
            </paper-dialog>



            <paper-dialog id="videoEditorDialog" modal class="editor">
                <h2 id="videoEditorDialogTitle">Edit video properties</h2>
                <div class="content">
                    <input type="hidden" name="name">
                    <paper-input  id="videoEditorTitleLabel" name="title" label='Title' value="{{title}}">

                    </paper-input>
                    <paper-input 
                        id="videoContentUrlLabel"
                        name="data" required auto-validate
                        label='Video url'
                        error-message='Invalid Youtube url.'
                        value="{{url}}">

                    </paper-input>
                </div>
                <div class="buttons">
                    <paper-button id="videoEditorDialogCancelButton" dialog-dismiss>Cancel</paper-button>
                    <paper-button id="videoEditorDialogAcceptButton" raised dialog-confirm>Accept</paper-button>
                </div>
            </paper-dialog> 
        </plutonium-cm-form>

        <iron-ajax 
            id="shareAjax"
            handle-as="json"
            content-type="application/json"
            method="POST"
            url="{{apiUrl}}/content-management/save" 
            body="{{pageDto}}"></iron-ajax>
    </template>
    <script>
        (function () {
            'use strict';

            Polymer({
                is: 'share-content-view',
                behaviors: [
                    PlutoniumBehaviors.WidgetBehavior,
                    BehaviorsStore.I18nBehavior

                ],
                properties: {
                    shareAjaxRequest: {
                    },
                    pageDto: {
                        type: Object,
                        notify: true
                    },
                    sections: {
                        type: Object,
                        notify: true,
                        value: {
                            "sections": [
                            ]
                        }
                    },
                    editorMap: {
                        type: Object,
                        notify: true,
                        value: {
                            "plutonium-cm-editor-image": "imageEditorDialog",
                            "plutonium-cm-editor-link": "linkEditorDialog",
                            "plutonium-cm-editor-text": "textEditorDialog",
                            "plutonium-cm-editor-video": "videoEditorDialog"}
                    },
                    accountId: {
                        type: String,
                        notify: true
                    },
                    kacsa: {
                        type: Object,
                        notify: true,
                        value: {
                            title: "text title",
                            data: "Ez itt a szöveg <strong>erősen</strong> <i>dőlt</i>.",
                            justification: "start-justified",
                            fontSize: 18
                        }
                    },
                    kacsa2: {
                        type: Object,
                        notify: true,
                        value: {
                            title: "image title",
                            data: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxMTEhUTExIVFRUXGBgYGBcYGBgXFxgXFxoYFxcXFRgYHSggGBolGxcXITEhJSkrLi4uFx8zODMtNygtLisBCgoKDg0OGhAQGi0lHSUtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS03LS0tLf/AABEIALcBEwMBIgACEQEDEQH/xAAbAAABBQEBAAAAAAAAAAAAAAADAAECBAUGB//EADcQAAEDAgQEAwcEAQQDAAAAAAEAAhEDIQQSMUEFUWFxgZHwBhMiobHB0RQy4fFCByNSciTC0v/EABkBAAMBAQEAAAAAAAAAAAAAAAABAgMEBf/EACMRAAICAgMBAAIDAQAAAAAAAAABAhEDIQQSMUETcRQiYVH/2gAMAwEAAhEDEQA/ANQMUw1RylTheEe+OUxUgbJU+aQydNqRKUppSsY6ZIKeVIB6NOStF5gKGEpQJUKzpKLoj1gHqLR0RHJNCi9l/B9lPCU7yogLQw1KGqokydIIFIJoUgVRmOEibJSh1XWQAzFNKkLKZCGBEBOQpAJTCBFbFmAszUq3xGtoFXhJvRpBEAqtZW36IPuZMlSaIhhk+NUqTYMKOOOiqPopAIUFKVEKxDQo1EUqDggChWZdV307rRi6VVidkmVlPJJXY7JJ2I1IUgJTxKd5gdVBZBzZKIWpAQEmlJghi1LKiJgkMiQiUGSYUHLRwlHK2UCkSqOgQqgEolV0lRhQwS0Qi6T3QiEQq9R6Cg9ASVpsKo4IWlHNSNVokZSewykHrKxHFGgxKCeKN5p0xUbFSqgA5nLOHFmTEqxhMW0mQdUdWGjVCkCqvvlA1il4JILVrRognEFQcd02QKbLSB1jmck5QbqSpk7JMpAgncE9MQk9yYwDyZCHirkIgbJQcQfiTT2DRDKIUQEoTwnY6GKZwRC1RITFQFzbhSeyyk4KbmpklEsKdWISQIu5YuUMCTKlUdmt5ogYl4UDyykGopEJtVDGiJTBSASqJDHZBcJV2riBEBU6TLTuVOEMKJAqQ0QgU7WpIB3vQBTJKuUsNuSmr1ANNVvHC/WZPKvEKvXDGwua4vxh0QzVaWIJcbrLrYO4K6IY0YSm/hgPNUnMT4IwzHc2Wm3BkmYsi+4i66OqMG5GIaTtQ4hHw9ao0yCbLQ920lO2mAdFLSGmzQwWNqEDdbmGxQIusPAxa60m0TqFm4JmvZmmW8kxQKDyNdFZqtBbIXPPE/UaxmVWDVM4JAECCpVBZc79NkBmENykVAG6CkFpNss6s/4ytQiyyyz4inEX0TSnbUvCllS92mUSL+SE+pBUQTNkzzJQgaHDrhWQFVbqFoAKiABZ0TKyWJkCIUWQOqKAnASU2URN04amISDkhjuEIYZmMclOoYElGwXwkOPdNJCZscL4EXgOfYcltO4PQi7B3WdQ48yzVLE8UBa4TsvYxYsUY62eVknllLbowOL4mk1xawaKtRrACd1ztfFE1y3qtYVRMclzVG7o6bdVZoe+KiKZOqhgmEu0sr9YjQKifDOqUgs6s8TdaOJNis8YeSkMFIPNBraWCuPGXus+tWJ0HoItioE480J9aCOpjyCiASb2/lPRoZovoSkMt4edQtnA4oix00WPh2Q6NgJP2H1Wlg6wm6aA32tDkM5mdlLDgR1RniRBV0Z2UnYtu6kKjToVicadkNll0+IkEXWM8cWaxyNHVVQhMaq9DHtcBOqu0IO65MmNxOqM00O8w1Zz33PNadcLINS5nmpQ0WS+ItdCcSUQMBEgqDSeSZRBzYKGFMlTp0wUgYBv7p6rUI3WdUbB7rSa0QqZLHyJKRCSQi/+gVathw3TVaFerCol2pKHRMWys+l1U20d1IBKq+ASpqy7AVQHO6BSqmRAMSo0KcBTm6H6NGLiOF1pzMqQeqqV3Yxp/wAXLtGUwQh1cPMrRTyRWiGoN7POaTav6hrnU8t7nZdIaYmQYJRuIUNYWZwxxNQNdrK2xZXL0jJjUdo6vA0y1nVDrPnXdGquAHZV2EuOkrpOb/SP6edULF5WiIur7nQIWPj8VNv6QwRQqDMZlV8S9rRI8VoYfCgi1j0Np6rO4nhzpuE3GkJStmNWrOcddd/XZSbiHDfbXodIRaWDdOW/MKxTwTonKTraOX8fRZlDMrWm56f0rTMbzAA53+iHR4e/koPwThsYk9k7Fs6LhuKIEzrt+Vt03ZhIXGYPFFpiN9V1WAqyAqixSRU9ocNmpkjZcK11yvS8XTJaRzC8ux4yPdPNOQka2Gqq9gar81p1XOYDElzgAZ5L0f2YwLWw+plJ2UqHZ0Ny6qyzheEVqgmAO6z8VwSsz9zJHMXXdUcW3aEf3oi61fCxtaM1zMiZ5gH5SpOrkruOM8Pp1KZMAHYxouJDALSFw58DxM7sGZZUQptlTsAiEWUGMieq5zcE68FaWWwWdzWnT0b2T+EsfJ0STOcUkrEWKlWTJQyJScpN0lICIHNCqOzHoPqnxFSBbU6KVFmyd0hoiw2SYVMABMQFFlEvekIwrGEKnT3Umwn2YqQwpZtlmDAf72YWAW06oA3t9dlSqvyifEq4Sp2S1aoHVqDmrfDjPqyyMLVD3ADmuhblY2N+S9CDvZxzVaKWPfEz8lhVS0fuHktXE1M1tUH9E0636JOWxpaKVJrj+0eKujCDU39fwihwaI2VepiknIaiEDANroPvk1WofWyNSwocJNrE/jw1Qk5eA2o+kXvCdjxoRPdNWw5bPQT9YVZ77ddUOLXoJqRbOEYbxdSwjSw3VKliyDCJ+szTJ/lT3K6G9TfmaYXl3tVga/vnEMJkrvcLj8pureIa2qOoVudxtemfTdPw8gwuAxbXZxTsOq7DBcdewAVKbm+Fvkugp0QNrq2/CAtuAuX+TP8A4dH4IL6UuHceBvmELRre0oAnNEbLJxvBaRaSG5TGossPF+yzXtHxv81vHmUtmUuLb0btb2ydUeKVsu50MIjonuucw3s4Kbwczj3K6L3WUdgss2bubYsXQalqQo1DJRgbIR1C5zYGR9FepYj4WiNlSO6OxvweCAZd970TKDWgiUkUTouOCiLpg7n66IeIcYyjV3yG5SWxEKTczp2Fh+UeN0qdKIARXU0mMCB81JrL9EmtVikzySG3QN4tAUAzZWRz6WQXmPDVAkyFYXDRtc/YIGMb8MbqzhyYLjqb/hKizM6SrjHtKkLt1VsyOF4FzHOedNkWtiIN1rPaT/CxOLU8onN8l6HTrE4+3aQJ+JhDbjrwTc/MLLrYwExKzOL8TDQBmvtpI6rJXJmzaijonvJ33TOqQs7C1yQJO2oT4iraA71+UvB+oOMYJgnT15Lo+GEFrfikbHoTMHzjwXA1qqs8H4u5jss29Qt8M+r2Y5Ydkdlx6uykO+34XMfr8ziQU/tFifeNDgdLx0iYK5+g/wCK2h+R/CrNK2RijSOpZWkWHfoPVlVxeILfivb1KFhsRtPdSxkFpGs+PyXP6zfxBcLjczZzK/w7GnMLriMBUdRcWPkg3GnyjRaeGx0OkaWVdaeiVK0egvggEbo7HWVLhuIzsjxViNlz5o9XaNccrVCx5GQ+CEGCw6IeNPw9yhsOqi9GiTJYigAAVGkySJ5XSqulo8EWn+53QBKyiNduiABftZGr6gHT8IANnFAIYDVEomWXSpNsmpxlPf7oQ2W6P7QnSpAxokmQGAGvIKWCp5ped7N7INYFxDAf3a9hr+PFazGwAOWiSWiZMDTpf2nq8ht9UZ3PwQRTvMIolP6CDEznbD+0ZoskyjzU0XYMlDrNBhvPXsLlWW0rqsBmc53gOw19dELQWTeJtoB6hTaxSpUS4gD+10mB4e1gk3dzP2XXxMTk+xzcnKoqjm3AgftPeCuQ9puIbEr1yoABovHv9R3gV4aALCw11Xdlx1E5sWW34cw7Faz+FkYunnqZhoInbXZSeZdM+vuqz8UWlt4BLnHrdYxjRrKVrZ09LFBoib+Ko4vEP2E9Qs047mVXxHHmsEAZj9++yhY22avIkiy7GlxgiCgVMeWrFHF3lwdHMkCbQeuq06h94A4CxWrx9fTFZuy0X63G8zB1P20Q/wBSQ3MhN4Q4U2vixJg9lm8aD2sAFwNT4bpqKboXdpWbWDqVHjMCO0wVp4fFmIJ+n3XB4TiNXOA1xIMANJnyjRa9DGvMgt0KU8VDx5k1s2eIVxm7fEPuE7XRcFc/+od7wSekLXwlWWi9/l4oapCjK2ehezONzMadwYXRuO8rA9mMAGYNtY2zOJPaYC22mWrk5KpJHThd2Bx37R3UKP8AkSn4mD8Mc0Om+DB3XN8Okc3pnxT4Z/xX3b5qeXKY2P1Qcskt5QR2QgY+IqSRB8EJ2h7p3NDBJSaDodZTBD1XkZQFPDDMDJtN0Mxm1TUhZ6EJl9uJCSre8IsCISTFRpcPpWLyLu06NGnnqrRnw3TsUAk2QEa3+Expm90wMInvTERdJMTsZtKE3NLLOpSi6LGBqvIab3Nh3NgiUqUABQyZqkbNE+J0+SJWfAhJgb3C8IAA4i60C4LlMH7UUwfd5piPnb6qyfaKk45A4T307r3MPRRSR5WSE3JtmviqpjReNf6jj/yJB1EeS9FxvGAGZs4nWF4r/qH7RB9X4LuEdY7q8lNUgh/V2ynUMArPqMLnsyibX81E8QzMDpgbzsrHDXycw9Bcz0bWpOjUPDRlust+Aa4OpkQNlvjEiN0Coxs5isVNpnS8aaMDDcDa0y4hw9WK6DBYAPFhy8uyA743gNFguq9m8rXfG0Brbzt2K2Tc2kzBxUE6NutwINwTZFwZuLiQuD4jQa2xFj5eK9I4j7R0HUiBVaRpEzK4bFPY8/DBG5/C1ywSVojHJt0zlGcMY12cA9ytXhuEbF972UXVMktIkTZQdiMq5pSbOiMIrZT4lw8ZvhQuHYd7qgZBuR4KWC4gHOcSdDfpC6T2a4xSbWDoBnTqfstUq9MPXaPVMJw4fpG0yYhojwuq1GkAAFSp+11JzQy0wBl3E20VtlS/SPquXmuLao6OKpJOypxF0lviVCs247qWLbL2ja/2U6fxOA2C47OxBauo7z5KpVqlriRyCs1HAku2aqIhxmxB9eu6aEODnfJCMwfF2soYeATPgrFS3xDbXsh7GiFSgZzRO/ryQKAIe8Hf8Kx78bIDBJPgmhP4QzEWgWSRzQBukiwNtuikfkoMRGCOygzGATi2niny9Lerp2DmgVjR8/omqGAXcgpuG26FWMlrB3PYaDz+iaFY+HZDZP7jc9yoVaU256qTn/JSpaKbKWjkeM+z9YPL6DgHG1+vLkuYZ7KY4VA5tUNg6TI+i9ZDQb+CCaG61WTJHwP6S9R52/2ZxlRwzVw1oEQ0TJ3uU2L9haQad3buOpXpIogBUMdTn7Inmye2EYQfw8Q417LVGCzDcwI0kmBbmmpcKr0wIYV627CZqjBsJcfoPv5Ir8BbRX/MnStEviwu0ePOxdRpuxwutDDYhrwJsPVl3+M4Kx1i0RfZczxn2XygmmSD0Vx5EJunoHinDadmfQZlknn4Qs72pr1GsBa4tYZBjQ2kSou4gWkB9naHr16qzi8Yx7MtnDcLrgqdnLll2VHKN4vXy5QfkCYHgtn2QqPcXOJMDwE7+MQsjE4RrXQ15i9p0nb6rYwGMbSplpAA9SdV0TfZUc0I9ZWatZwILuQM/Zc/XZVrOhoMc1ewNb37sjdCb/gnyXXYXhwboIiw6c/XRcU8n4v2d0Mf5f0cZhvZN5bd2vktbAex+VwIqFp1suvbhv8AEDT7G30Cv0KIBNrkwFzvlZH9OhcbGvhlez/AGUnZ7ufcydV0JqEEXN/7SpDpEQ0eKIBLhyg/YLKUm/S0kvB8HTzvEn/FaDcE0WEyUHAs/wBw/wDX6lahgIoiUqejOdw6WxJIOvioHhI/5FaZB2Ciac62QLsZJ4TcQ4zz+6sHAu5g+CvTCTndUD7MzKfDCNXDy+Sq16RY67gQR17cluLO4iwZm9Q78poLKYw7v+SSlRYS0HoEkyjbpi1kYaFV6JGmiMxyzMmI2U2tnoE9P6+aTXJ0S2M0INAWL4/dp22UsSfhyDVxjw3+Sdx0A2Q9IEQj166qZv0mEqbd1MC6hFNjO05BRm6lWCizc+rJ2HwT3ID2yjayhYh2RhPIFKrKWithGSXP2Jyjs231lHez14ImHpZaYHT5n+UqjIjwCUkNSA1KGgjcn5FU6+FBgRuf7Wm8XHP0fshZJP36QpaKjM47jPshSrgS28arjMZ7A1WGabiRrqQvZKtLT1uPXgq9fDyDy0/K3hnyQWmRLHjn6jxU+zOJ0h8d/JNR9iqj3HOTaN58V7N+lbBdH9XWZSw1yepPlYLVcvISuLjMHgnAKdEBrW9zzhbDaNxZXxQAzAf4iPE3UGMufLwhc0m27Z1RpaQD3fxCPUf38lKi3TnJP4UmzJ3gW8f4hWW0cptsAB/HkEJA2RpMsB4qTT8ZHIAeZ9eSJTZBj1zKanq625+UKkSyxgQc7rRIHktEkDqSs3BSHOtsB68lpBvmrMJCNRQEnsiBKEEkciTCNQFE1CZAHilkPPaPugZCtUvA12/nyWdxBl2EnciBpcLReA2fWyz+KuJyHT4x9016MrYWv8ASWXUxhaSLW7JKqKs62nex9bojnRPrVJJYol+hmCykxlvWqSSutGbBU2EvJizfhHexP2HgpHDOk2SSVOCZLm0ybKTuXRP7p2qSSOiRPdj1aZ2GyGaZA6pJJOKHGbBsYq+LGYsZs50ns0F32CSSmkmbXovVhYobh67JJKWSiDzcdp9fNNSEAdkklP0r4TO3rZDLJ7XH19eKSSYkAxTbO7H6Khhqfwjw/wDpJJEfDZPQ72wO5Lj1n18k1Wlb69tEkkjRD4akQLxJMnw0+iYg+d/KY+ySStEk6Q+M+P4/9SlSIgHQEX8bpJIEy3w9v7j2VwvjX16hOkrfpiQpmdBY7+uyIKNrmfoUySETId7gLIOY9Bcpkkhx8BuaBc3gfaT9FR4o8lo/7A/P+UklSKOfxbDnMaJJJKwP/9k=",
                            justification: "center-justified",
                            fontSize: 18
                        }
                    },
                    kacsa3: {
                        type: Object,
                        notify: true,
                        value: {
                            title: "video title",
                            data: "cQrXUVOny4w",
                            justification: "end-justified",
                            fontSize: 18,
                            width: 700,
                            height: 300
                        }
                    }
                },
                //                listeners: {
                //                    'addSection': 'addSection',
                //                    'embedVideo': 'embedVideo',
                //                    'embedImage': 'embedImage'
                //                }
                //                ,
                observers: [
                    'updateModel(sections)'
                ],
                listeners: {
                    'share': 'onShare',
                    'shareAjax.error': 'onShareError',
                    'shareAjax.response': 'onShareResponse'
                },
                updateModel: function (sections) {
                    this.pageDto = {
                    };
                },
                onShare: function (e, details) {
                    console.log('Save content: ' + JSON.stringify(details));
                    this.pageDto = details.content;
                    this.$.shareAjax.generateRequest();
                },
                onShareError: function () {
                    app.$.toast.text = 'Content sharing failed.';
                    app.$.toast.show();
                },
                onShareResponse: function () {
                    app.$.toast.text = 'New content shared successfully.';
                    app.$.toast.show();
                },
                onDecreaseFontSize: function (e) {
                    console.log('Decrease font size.');
                },
                onInreaseFontSize: function (e) {
                    console.log('Increase font size.');
                    textEditorDialogAcceptButton
                },
                onAlignLeft: function (e) {
                    console.log('Change align to left.');
                },
                onAlignCenter: function (e) {
                    console.log('Change align to center.');
                },
                onAlignRight: function (e) {
                    console.log('Change align to right.');
                }
            });
        })();
    </script>
</dom-module>
