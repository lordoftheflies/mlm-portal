<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-validator-behavior/iron-validator-behavior.html">

<script>
    Polymer({
        is: 'plutonium-youtube-url-validator',
        properties: {
        },
        behaviors: [
            Polymer.IronValidatorBehavior
        ],
        validate: function (value) {
            // this regex validates incomplete ssn's (by design)
            return !value || this.matchYoutubeUrl(value);
        },
        matchYoutubeUrl: function (url) {
            var p = /^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;
            var matches = url.match(p);
            if (matches) {
                return matches[1];
            }
            return false;
        }
    });
</script>
